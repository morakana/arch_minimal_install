-------------------------------------------------------------------------------------------------
注意点：
  これは UEFIモードでインストールすることを前提としています、
  必ずUEFIモードで起動できるPCで行ってください。
-------------------------------------------------------------------------------------------------

ArchLinuxのインストーラを起動します

プロンプトが表示されるまで待ってください

日本語キーボードを使っている場合は loadkeys jp106 を実行します
(行わない場合はキーマップがずれてしまいます)

ミラーリポジトリを取得します
reflector --country 'Japan' --sort rate --save /etc/pacman.d/mirrorlist
(warningが出たりしますが基本的には気にしなくて大丈夫です)

「pacman -Sy && pacman -S git」としてgitをインストールしてしてください
(-Syuとしてしまうとインストーラの環境でアップデートまで行われてしまいますので、
-Syでデータベースの更新だけ行ってください)

gitでこのリポジトリを取得して、そのデイレクトリに移動してください

config の 内容を書き換えてください ()の中はデフォルト値
  1行目 が キーマップ             (jp106)
  2行目 が TimeZone               (Asia/Tokyo)
  3行目 が ホスト名               (myhostname)
  4行目 が rootユーザパスワード   (rootpassword)
  5行目 が スワップファイルサイズ (1G)
  6行目 が 追加インストール       (sudo bash-completion git wget openssh docker docker-compose)
  (標準でインストールされるものは
    base base-devel linux linux-firmware grub efibootmgr networkmanager pkgfile pacman-contrib vim
  です)

./phase01.sh として フェーズ1を起動します
  --------------------------------------------------------------
  まずは時刻合わせと UEFIモードで起動しているかのチェックを行います
  ファイル一覧のようなものが表示されればOKです。
  --------------------------------------------------------------
  続けて指示の通りに
  「パーティションの作成」と「フォーマット」と「マウント」を行ってください
  --------------------------------------------------------------
  途中でもう一度指示を見たい場合は ./phase01.sh help を実行してください。
  --------------------------------------------------------------
  lsblkを実行してみて、
  システムパーテイションが /mnt
  EFIシステムパーティション が /mnt/boot
  にマウントされていれば大丈夫です。
  システムパーティションをマウント後、
  mkdir /mnt/boot とマウントポイントを作ってから、
  EFIシステムパーティションを /mnt/boot にマウントする感じでやれば大丈夫です。
  データ用パーティションやディスクがあるなら、
  この時点で任意の場所にマウントしておけば、インストール完了後もその構成が維持されます。
  --------------------------------------------------------------
  これでフェーズ1 は終了です。
  --------------------------------------------------------------

./phase02.sh として フェーズ2を起動します
  --------------------------------------------------------------
  minimal環境のインストール
  fstabの生成
  config と phase03.sh を /mnt/root への送り込み
  が自動で行われます
  --------------------------------------------------------------
  最後に chroot が 行われ /mnt が / 扱いの環境に移行します
  つまり 先程送り込んだファイルが /root に存在する環境に切り替わります。
  --------------------------------------------------------------
  これでフェーズ2 は終了です
  --------------------------------------------------------------

カレントデイレクトリが / になっているので
cd として /root へ移動してください
./phase03.sh として フェーズ3を起動します
  --------------------------------------------------------------
  ここからは、インストーラの環境ではなく
  chrootされたことによって 新システムの環境での動作に変わります
  --------------------------------------------------------------
  タイムゾーンの設定
  キーボードマップの設定
  ホスト名の設定
  grubのインストール
  rootユーザのパスワード設定
  スワップファイルの作成
  pkgfile --update の実行
  送り込まれた config と phase03.sh の削除
  が自動で行われます
  --------------------------------------------------------------
  あとは、指示のとおりに
  ArchLinuxのインストールメディアを取り出し
  再起動をし
  NetworkManager を 有効化し (systemctl enable NetworkManager)
  もう一度再起動をすれば
  --------------------------------------------------------------
  これで全てのフェーズが完了です。
  --------------------------------------------------------------
